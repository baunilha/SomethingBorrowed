{% extends "/layout.html" %}
{% from "_form_helpers.html" import render_error, render_textarea %}

{% block styles %}{% endblock %}

{% block body %}

      <!-- Submit a new book item form -->
    <div class="container">
      	<div class="row-fluid">
            
            <form method="POST" action="/">
                <legend><h3>Share a book:</h3></legend>

                {{ form.title.label(class='myLabelCssClass') }}
                {{ form.title(class='myTextboxCssClass', type='textarea') }}
                {{ render_error(form.title) }}  {# render_error inside _form_helpers.html #}
                <!--
                <label for="title">Project Title</label>
                <input type="text" id="title" name="title">
                -->

                {{ form.author.label(class='myLabelCssClass') }}
                {{ form.author(class='myTextboxCssClass', type='textarea') }}
                {{ render_error(form.author) }}  {# render_error inside _form_helpers.html #}
                <!--
                <label for="author">Author</label>
                <input type="text" id="author" name="author" value="{{ form.author }}">
                -->

                <br>
                <label>Type</label>
                {# comment - loop through bookType and create a dropdown menu #}
                {% for t in bookType|sort %}
                <label class="dropdown">
                <option value="{{ t|replace(" ","_") }}" {% if t|replace(" ","_") in form.bookType.data %} checked=checked {% endif %} > {{ t|title }}
                </label>
                <!-- Book Type -->

                <br>
                <label>Genre</label>
                <span class="help-block">Select as many as you need.</span>

                {# comment - loop through genre and create checkboxes #}
                {% for g in genre|sort %}
                <label class="checkbox">
                <input type="checkbox" name="genre" value="{{ g|replace(" ","_") }}" {% if g|replace(" ","_") in form.genre.data %}checked=checked{% endif %} > {{ g|title }}
                </label>
                <!-- Book Genre -->

                {{ form.description.label }}
                {{ render_textarea(form.description, cols="50", rows="6") }} {# render_textarea inside _form_helpers.html #}
                {{ render_error(form.description) }} {# render_error inside _form_helpers.html #}
                <!--
                <label for="description">Description</label>
                <input type="text" id="description" name="description">
                -->

                <br><hr><br>
                {{ form.owner.label(class='myLabelCssClass') }}
                {{ form.owner(class='myTextboxCssClass', type='textarea') }}
                {{ render_error(form.owner) }}  {# render_error inside _form_helpers.html #}
                <!--
                <label for="owner">Owner</label>
                <input type="text" id="owner" name="owner">
                -->

                {{ form.email.label(class='myLabelCssClass') }}
                {{ form.email(class='myTextboxCssClass', type='textarea') }}
                {{ render_error(form.email) }}  {# render_error inside _form_helpers.html #}
                <!--
                <label for="email">Email</label>
                <input type="text" id="email" name="email">
                -->

                <br>
                <label>itpStatus</label>
                {# comment - loop through itpStatus and create a dropdown menu #}
                {% for i in itpStatus|sort %}
                <label class="dropdown">
                <option value="{{ i|replace(" ","_") }}" {% if i|replace(" ","_") in form.itpStatus.data %} checked=checked {% endif %} > {{ i|title }}
                </label>
                {% endfor %}

                <button type="submit" class="btn btn-primary">Add Book</button>
          </form>

        </div>
    </div>

{% endblock %}


{% block scripts %}{% endblock %}